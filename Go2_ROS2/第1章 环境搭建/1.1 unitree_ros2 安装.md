常用版本为foxy和humble，我们使用最新的humble，所以代码中的foxy替换为humble

系统要求：Ubuntu 22.04|humble
1、打开终端，克隆仓库
`git clone https://github.com/unitreerobotics/unitree_ros2`
2、安装依赖
`sudo apt install ros-foxy-rmw-cyclonedds-cpp`
`sudo apt install ros-foxy-rosidl-generator-dds-idl`
或
`sudo apt install ros-humble-rmw-cyclonedds-cpp`
`sudo apt install ros-foxy-humble-generator-dds-idl`
3、编译cyclone-dds
由于 G1 使用的是 **cyclonedds 0.10.2** 版本，因此需要先更改 ROS2 的 DDS 实现。详见：[https://docs.ros.org/en/foxy/Concepts/About-Different-Middleware-Vendors.html](https://docs.ros.org/en/foxy/Concepts/About-Different-Middleware-Vendors.html)

编译 cyclonedds 前请确保在启动终端时**没有** source ros2 相关的环境变量，否则会导致 cyclonedds 编译报错。如果安装 ROS2 时在~/.bashrc中添加了 " `source /opt/ros/foxy/setup.bash` "，需要修改 ~/.bashrc 文件将其删除：
```bash
sudo apt install gedit
sudo gedit ~/.bashrc
```

在弹出的窗口中，注释掉 ROS2 相关的环境变量，例如：

```bash
# source /opt/ros/foxy/setup.bash 
```

在终端中执行以下操作编译 cyclone-dds

```bash
cd ~/unitree_ros2/cyclonedds_ws/src
#克隆cyclonedds仓库
git clone https://github.com/ros2/rmw_cyclonedds -b humble
git clone https://github.com/eclipse-cyclonedds/cyclonedds -b releases/0.10.x 
cd ..
colcon build --packages-select cyclonedds #编译cyclonedds
```
4、编译 unitree_go 和 unitree_api 功能包

编译好 cyclone-dds 后就需要 Ros2 相关的依赖来完成 G1 功能包的编译，因此编译前需要先 source ROS2 的环境变量。

```bash
source /opt/ros/foxy/setup.bash #source ROS2 环境变量
colcon build #编译工作空间下的所有功能包
```
