1.创建功能包
cd ~/unitree_go2_ws/src
ros2 pkg create helloworld_py --build-type ament_python --dependencies rclpy unitree_api --node-name hello

2.编辑源文件
ros2_node:
```
import rclpy
from rclpy.node import Node  

class HelloWorldPy(Node):
def __init__(self):
super().__init__('helloworld_py')
#在这里添加初始化代码

def main():
rclpy.init()
rclpy.spin(HelloWorldPy())
rclpy.shutdown()
 
if __name__ == '__main__':
main()
```

发布程序：
```
'''

打招呼

  
流程：
1.创建发布对象
2.创建定时器
3.定时器中调用发布对象发布指令
  

'''
import rclpy
from rclpy.node import Node
from unitree_api.msg import Request
  
class HelloWorldPy(Node):
def __init__(self):
super().__init__('helloworld_py')
#1.创建发布对象
self.pub = self.create_publisher(Request,"/api/sport/request",10)
#2.创建定时器
self.timer = self.create_timer(1.0,self.on_timer)
#3.定时器中调用发布对象发布指令
def on_timer(self):
request = Request()
request.header.identity.api_id = 1016
self.pub.publish(request)
def main():
rclpy.init()
rclpy.spin(HelloWorldPy())
rclpy.shutdown()
  

if __name__ == '__main__':
main()
```
构建运行
colcon build --packages-select helloworld_py
. install/setup.bash 
ros2 run helloworld_py hello